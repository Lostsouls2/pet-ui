{"ast":null,"code":"export default {\n  name: 'Login',\n  data() {\n    // var checkAge = (rule, value, callback) => {\n    //   var age = parseInt(value, 10);\n    //\n    //   setTimeout(() => {\n    //     if (!Number.isInteger(age)) {\n    //       callback(new Error('请输入数字值'));\n    //     } else {\n    //       if (age < 18) {\n    //         callback(new Error('必须年满18岁'));\n    //       } else {\n    //         callback();\n    //       }\n    //     }\n    //   }, 1000);\n    // };\n    var validatePass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请输入密码'));\n      } else {\n        if (this.customForm.checkPass !== '') {\n          this.$refs.customRuleForm.validateField('checkPass');\n        }\n        callback();\n      }\n    };\n    var validatePass2 = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('请再次输入密码'));\n      } else if (value !== this.customForm.pass) {\n        callback(new Error('两次输入密码不一致!'));\n      } else {\n        callback();\n      }\n    };\n    return {\n      customForm: {\n        pass: '',\n        checkPass: ''\n      },\n      customRules: {\n        pass: [{\n          required: true,\n          message: '请输入密码'\n        }, {\n          validator: validatePass\n        }],\n        checkPass: [{\n          required: true,\n          message: '请再次输入密码'\n        }, {\n          validator: validatePass2\n        }]\n      },\n      labelCol: {\n        span: 6\n      },\n      wrapperCol: {\n        span: 14\n      }\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          alert('submit!');\n        } else {\n          console.log('error submit!!');\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    }\n  }\n};","map":{"version":3,"names":["name","data","validatePass","rule","value","callback","Error","customForm","checkPass","$refs","customRuleForm","validateField","validatePass2","pass","customRules","required","message","validator","labelCol","span","wrapperCol","methods","submitForm","formName","validate","valid","alert","console","log","resetForm","resetFields"],"sources":["src/components/Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div style=\"width: 50%;background-color: black; height: 100%;float: left;\">\r\n      <img src=\"../assets/logo.png\">\r\n    </div>\r\n    <div style=\"background-color: #42b983;width: 50%;height: 100%;float: left;\">\r\n      <v-form direction=\"horizontal\" :model=\"customForm\" :rules=\"customRules\" ref=\"customRuleForm\">\r\n        <v-form-item label=\"用户名\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" prop=\"pass\" has-feedback>\r\n          <v-input type=\"text\" size=\"large\" v-model=\"customForm.pass\"></v-input>\r\n        </v-form-item>\r\n        <v-form-item label=\"密码\" :label-col=\"labelCol\" :wrapper-col=\"wrapperCol\" prop=\"checkPass\" has-feedback>\r\n          <v-input type=\"password\" size=\"large\" v-model=\"customForm.checkPass\"></v-input>\r\n        </v-form-item>\r\n        <v-form-item :wrapper-col=\"{offset:6, span: 14 }\">\r\n          <v-button type=\"primary\" style=\"margin-right:10px\" @click.prevent=\"submitForm('customRuleForm')\">提交</v-button>\r\n          <v-button type=\"ghost\" @click.prevent=\"resetForm('customRuleForm')\">重置</v-button>\r\n        </v-form-item>\r\n      </v-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'Login',\r\n  data() {\r\n    // var checkAge = (rule, value, callback) => {\r\n    //   var age = parseInt(value, 10);\r\n    //\r\n    //   setTimeout(() => {\r\n    //     if (!Number.isInteger(age)) {\r\n    //       callback(new Error('请输入数字值'));\r\n    //     } else {\r\n    //       if (age < 18) {\r\n    //         callback(new Error('必须年满18岁'));\r\n    //       } else {\r\n    //         callback();\r\n    //       }\r\n    //     }\r\n    //   }, 1000);\r\n    // };\r\n    var validatePass = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入密码'));\r\n      } else {\r\n        if (this.customForm.checkPass !== '') {\r\n          this.$refs.customRuleForm.validateField('checkPass');\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n    var validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请再次输入密码'));\r\n      } else if (value !== this.customForm.pass) {\r\n        callback(new Error('两次输入密码不一致!'));\r\n      } else {\r\n        callback();\r\n      }\r\n    };\r\n    return {\r\n      customForm: {\r\n        pass: '',\r\n        checkPass: ''\r\n      },\r\n      customRules: {\r\n        pass: [{\r\n          required: true,\r\n          message: '请输入密码'\r\n        },\r\n          {\r\n            validator: validatePass\r\n          }\r\n        ],\r\n        checkPass: [{\r\n          required: true,\r\n          message: '请再次输入密码'\r\n        },\r\n          {\r\n            validator: validatePass2\r\n          }\r\n        ]\r\n      },\r\n      labelCol: {\r\n        span: 6\r\n      },\r\n      wrapperCol: {\r\n        span: 14\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          alert('submit!');\r\n        } else {\r\n          console.log('error submit!!');\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    resetForm(formName) {\r\n      this.$refs[formName].resetFields();\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login{\r\n  width: 800px;\r\n  height: 500px;\r\n  position: fixed;\r\n  left: 0px;\r\n  right: 0px;\r\n  top: 0px;\r\n  bottom: 0px;\r\n  margin: auto;\r\n  background-color: aqua;\r\n}\r\n</style>"],"mappings":"AAuBA;EACAA,IAAA;EACAC,KAAA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA,IAAAC,YAAA,GAAAA,CAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA;QACA,SAAAC,UAAA,CAAAC,SAAA;UACA,KAAAC,KAAA,CAAAC,cAAA,CAAAC,aAAA;QACA;QACAN,QAAA;MACA;IACA;IACA,IAAAO,aAAA,GAAAA,CAAAT,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,UAAAG,UAAA,CAAAM,IAAA;QACAR,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;MACAE,UAAA;QACAM,IAAA;QACAL,SAAA;MACA;MACAM,WAAA;QACAD,IAAA;UACAE,QAAA;UACAC,OAAA;QACA,GACA;UACAC,SAAA,EAAAf;QACA,EACA;QACAM,SAAA;UACAO,QAAA;UACAC,OAAA;QACA,GACA;UACAC,SAAA,EAAAL;QACA;MAEA;MACAM,QAAA;QACAC,IAAA;MACA;MACAC,UAAA;QACAD,IAAA;MACA;IACA;EACA;EACAE,OAAA;IACAC,WAAAC,QAAA;MACA,KAAAd,KAAA,CAAAc,QAAA,EAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACAC,KAAA;QACA;UACAC,OAAA,CAAAC,GAAA;UACA;QACA;MACA;IACA;IACAC,UAAAN,QAAA;MACA,KAAAd,KAAA,CAAAc,QAAA,EAAAO,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}